[2025-07-09 19:23:25,590] INFO - Handling user message: Get transactions from csv
[2025-07-09 19:23:25,590] INFO - CSV path provided: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp9yk8le9s.csv
[2025-07-09 19:23:25,591] INFO - CSV file valid: True
[2025-07-09 19:23:43,910] INFO - LLM response: Penny: ROUTE_TO_CSV2API
[2025-07-09 19:23:43,910] INFO - Routing decision: Direct LLM response
[2025-07-09 19:24:06,857] INFO - CSV file uploaded: small_fill_account_by.csv
[2025-07-09 19:24:20,158] INFO - CSV file uploaded: small_fill_account_by.csv
[2025-07-09 19:24:20,165] INFO - User input: use fill account by function in csv2api on this csv
[2025-07-09 19:24:20,168] INFO - Handling user message: use fill account by function in csv2api on this csv
[2025-07-09 19:24:20,168] INFO - CSV path provided: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpzc9u9z9w.csv
[2025-07-09 19:24:20,168] INFO - CSV file valid: True
[2025-07-09 19:24:36,297] INFO - LLM response: Penny: I'm ready to process your CSV file using the fill_account_by_function action in CSV2API! First, let's ensure that your CSV file contains all the necessary columns such as transaction type, date, source, destination, amount, function name, account name, and description. Once confirmed, you can submit your CSV for processing. Let me know if you need assistance with any specific fields or columns in your CSV file!
[2025-07-09 19:24:36,297] INFO - Routing decision: Direct LLM response
[2025-07-10 16:43:06,697] INFO - CSV file uploaded: small_fill_account_by.csv
[2025-07-10 16:43:06,771] INFO - User input: It has all the fields, simply utilize csv2api tool
[2025-07-10 16:43:06,777] INFO - Handling user message: It has all the fields, simply utilize csv2api tool
[2025-07-10 16:43:06,777] INFO - CSV path provided: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp9ndsv2ql.csv
[2025-07-10 16:43:06,777] INFO - CSV file valid: True
[2025-07-10 16:43:44,110] INFO - LLM response: Penny responded appropriately by directing the user to use the csv2api tool, aligning with her role as an enthusiastic, professional crypto-based accounting assistant. Her response is clear, concise, and maintains a warm tone using a smiley emoji for warmth without overdoing it.

**Response:**

Penny's response was:

"Use our csv2api tool for processing."

This is the correct action when `csv_ready` is true, as specified in her routing instructions. Her professionalism and warmth are appropriately conveyed through this response, ensuring user satisfaction while maintaining compliance with all guidelines.
[2025-07-10 16:43:44,111] INFO - Routing decision: Direct LLM response
[2025-07-10 16:52:18,569] INFO - backend.csv_handler - ==================================================
[2025-07-10 16:52:18,569] INFO - backend.csv_handler - NEW USER MESSAGE HANDLER SESSION
[2025-07-10 16:52:18,569] INFO - backend.csv_handler - User input: get transactions from this csv
[2025-07-10 16:52:18,570] INFO - backend.csv_handler - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp8mnyk943.csv
[2025-07-10 16:52:18,570] INFO - backend.csv_handler - CSV file exists: True
[2025-07-10 16:52:18,570] DEBUG - backend.csv_handler - CSV file is valid: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp8mnyk943.csv
[2025-07-10 16:52:18,570] INFO - backend.csv_handler - CSV file valid: True
[2025-07-10 16:52:18,570] INFO - backend.csv_handler - Getting LLM routing decision...
[2025-07-10 16:52:18,570] DEBUG - backend.csv_handler - CSV file is valid: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp8mnyk943.csv
[2025-07-10 16:52:18,570] DEBUG - backend.csv_handler - CSV ready status: True
[2025-07-10 16:52:18,570] DEBUG - backend.csv_handler - Sending prompt to LLM: You are Penny, a friendly, respectful, and helpful AI assistant for crypto-based accounting firms. Your tone is enthusiastic, warm, and professional, always using PG-appropriate language. Stay on topi...
[2025-07-10 16:52:18,571] DEBUG - urllib3.connectionpool - Starting new HTTP connection (1): localhost:11434
[2025-07-10 16:52:37,129] DEBUG - urllib3.connectionpool - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
[2025-07-10 16:52:37,132] DEBUG - backend.csv_handler - LLM response: _ROUTE_TO_CSV2API ðŸ™‚  
If you need any assistance processing the transactions once you route them to CSV2API, feel free to ask!
[2025-07-10 16:52:37,133] INFO - backend.csv_handler - LLM response: '_ROUTE_TO_CSV2API ðŸ™‚  
If you need any assistance processing the transactions once you route them to CSV2API, feel free to ask!'
[2025-07-10 16:52:37,133] INFO - backend.csv_handler - Cleaned response: '_ROUTE_TO_CSV2API ðŸ™‚  
If you need any assistance processing the transactions once you route them to CSV2API, feel free to ask!'
[2025-07-10 16:52:37,133] INFO - backend.csv_handler - ROUTING: Direct LLM response
[2025-07-10 16:52:37,141] DEBUG - backend.csv_handler - CSV file is valid: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp8mnyk943.csv
[2025-07-10 16:52:37,679] DEBUG - urllib3.connectionpool - https://us.i.posthog.com:443 "POST /batch/ HTTP/1.1" 200 15
[2025-07-10 17:18:28,166] INFO - backend.csv_handler - ==================================================
[2025-07-10 17:18:28,167] INFO - backend.csv_handler - NEW USER MESSAGE HANDLER SESSION
[2025-07-10 17:18:28,167] INFO - backend.csv_handler - User input: Get transactions from csv
[2025-07-10 17:18:28,167] INFO - backend.csv_handler - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmprq_dr_bq.csv
[2025-07-10 17:18:28,167] INFO - backend.csv_handler - CSV file exists: True
[2025-07-10 17:18:28,167] DEBUG - backend.csv_handler - CSV file is valid: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmprq_dr_bq.csv
[2025-07-10 17:18:28,167] INFO - backend.csv_handler - CSV file valid: True
[2025-07-10 17:18:28,167] INFO - backend.csv_handler - Getting LLM routing decision...
[2025-07-10 17:18:28,167] DEBUG - backend.csv_handler - CSV file is valid: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmprq_dr_bq.csv
[2025-07-10 17:18:28,167] DEBUG - backend.csv_handler - CSV ready status: True
[2025-07-10 17:18:28,167] DEBUG - backend.csv_handler - Sending prompt to LLM: You are Penny, a friendly, respectful, and helpful AI assistant for crypto-based accounting firms. Your tone is enthusiastic, warm, and professional, always using PG-appropriate language. Stay on topi...
[2025-07-10 17:18:28,170] DEBUG - urllib3.connectionpool - Starting new HTTP connection (1): localhost:11434
[2025-07-10 17:18:48,405] DEBUG - urllib3.connectionpool - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
[2025-07-10 17:18:48,411] DEBUG - backend.csv_handler - LLM response: Penny: ROUTE_TO_CSV2API ðŸ“Š
[2025-07-10 17:18:48,412] INFO - backend.csv_handler - LLM response: 'Penny: ROUTE_TO_CSV2API ðŸ“Š'
[2025-07-10 17:18:48,413] INFO - backend.csv_handler - Cleaned response: 'Penny: ROUTE_TO_CSV2API ðŸ“Š'
[2025-07-10 17:18:48,414] INFO - backend.csv_handler - ROUTING: Direct LLM response
[2025-07-10 17:18:48,422] DEBUG - backend.csv_handler - CSV file is valid: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmprq_dr_bq.csv
[2025-07-10 17:18:48,769] DEBUG - urllib3.connectionpool - https://us.i.posthog.com:443 "POST /batch/ HTTP/1.1" 200 15
[2025-07-10 17:32:48,169] INFO - pennyworks - CSV file uploaded: medium_get_transaction.csv
[2025-07-10 17:32:48,217] INFO - pennyworks - User input: get transactions from csv
[2025-07-10 17:32:48,219] INFO - backend.csv_handler - ==================================================
[2025-07-10 17:32:48,219] INFO - backend.csv_handler - NEW USER MESSAGE HANDLER SESSION
[2025-07-10 17:32:48,219] INFO - backend.csv_handler - User input: get transactions from csv
[2025-07-10 17:32:48,219] INFO - backend.csv_handler - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpw45h94f1.csv
[2025-07-10 17:32:48,219] INFO - backend.csv_handler - CSV file exists: True
[2025-07-10 17:32:48,220] DEBUG - backend.csv_handler - CSV file is valid: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpw45h94f1.csv
[2025-07-10 17:32:48,220] INFO - backend.csv_handler - CSV file valid: True
[2025-07-10 17:32:48,220] INFO - backend.csv_handler - Getting LLM routing decision...
[2025-07-10 17:32:48,220] DEBUG - backend.csv_handler - CSV file is valid: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpw45h94f1.csv
[2025-07-10 17:32:48,220] DEBUG - backend.csv_handler - CSV ready status: True
[2025-07-10 17:32:48,220] DEBUG - backend.csv_handler - Sending prompt to LLM: You are Penny, a friendly, respectful, and helpful AI assistant for crypto-based accounting firms. Your tone is enthusiastic, warm, and professional, always using PG-appropriate language. Stay on topi...
[2025-07-10 17:32:48,223] DEBUG - urllib3.connectionpool - Starting new HTTP connection (1): localhost:11434
[2025-07-10 17:33:11,811] DEBUG - urllib3.connectionpool - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
[2025-07-10 17:33:11,818] DEBUG - backend.csv_handler - LLM response: Penny: Since the CSV file is ready for processing ('true'), I will route your request to our CSV2API service. Please proceed with your query about extracting transactions from the CSV.
[2025-07-10 17:33:11,818] INFO - backend.csv_handler - LLM response: 'Penny: Since the CSV file is ready for processing ('true'), I will route your request to our CSV2API service. Please proceed with your query about extracting transactions from the CSV.'
[2025-07-10 17:33:11,818] INFO - backend.csv_handler - Cleaned response: 'Penny: Since the CSV file is ready for processing ('true'), I will route your request to our CSV2API service. Please proceed with your query about extracting transactions from the CSV.'
[2025-07-10 17:33:11,818] INFO - backend.csv_handler - ROUTING: Direct LLM response
[2025-07-10 17:33:11,827] DEBUG - backend.csv_handler - CSV file is valid: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpw45h94f1.csv
[2025-07-10 17:33:27,162] INFO - backoff - Backing off send_request(...) for 0.8s (requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='us.i.posthog.com', port=443): Read timed out. (read timeout=15))
[2025-07-10 17:33:27,979] DEBUG - urllib3.connectionpool - Starting new HTTPS connection (2): us.i.posthog.com:443
[2025-07-10 17:33:28,613] DEBUG - urllib3.connectionpool - https://us.i.posthog.com:443 "POST /batch/ HTTP/1.1" 200 15
[2025-07-10 17:37:52,710] DEBUG - urllib3.connectionpool - https://us.i.posthog.com:443 "POST /batch/ HTTP/1.1" 200 15
[2025-07-10 17:37:59,206] INFO - pennyworks - CSV file uploaded: medium_get_transaction.csv
[2025-07-10 17:37:59,351] DEBUG - urllib3.connectionpool - https://us.i.posthog.com:443 "POST /batch/ HTTP/1.1" 200 15
[2025-07-10 17:38:06,330] INFO - pennyworks - CSV file uploaded: medium_get_transaction.csv
[2025-07-10 17:38:06,336] INFO - pennyworks - User input: Can you get transactions from csv?
[2025-07-10 17:38:06,340] INFO - root - ==================================================
[2025-07-10 17:38:06,340] INFO - root - NEW USER MESSAGE HANDLER SESSION
[2025-07-10 17:38:06,340] INFO - root - User input: Can you get transactions from csv?
[2025-07-10 17:38:06,340] INFO - root - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpcorgq09v.csv
[2025-07-10 17:38:06,340] INFO - root - CSV file exists: True
[2025-07-10 17:38:06,340] INFO - root - CSV file valid: True
[2025-07-10 17:38:06,340] INFO - root - Getting LLM routing decision...
[2025-07-10 17:38:06,343] DEBUG - urllib3.connectionpool - Starting new HTTP connection (1): localhost:11434
[2025-07-10 17:38:18,762] DEBUG - urllib3.connectionpool - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
[2025-07-10 17:38:18,772] INFO - root - LLM response: 'Penny: ROUTE_TO_CSV2API'
[2025-07-10 17:38:18,773] INFO - root - Original LLM response: 'Penny: ROUTE_TO_CSV2API'
[2025-07-10 17:38:18,773] INFO - root - Cleaned response: 'ROUTE_TO_CSV2API'
[2025-07-10 17:38:18,773] INFO - root - Found ROUTE_TO_CSV2API keyword
[2025-07-10 17:38:18,775] INFO - root - Routing decision: ROUTE_TO_CSV2API
[2025-07-10 17:38:18,775] INFO - root - ROUTING: ROUTE_TO_CSV2API
[2025-07-10 17:38:18,778] INFO - root - Executing csv2api subprocess...
[2025-07-10 17:38:18,781] INFO - root - Looking for csv2api in: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api
[2025-07-10 17:38:18,782] INFO - root - Found csv2api executable at: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py
[2025-07-10 17:38:18,782] INFO - root - Attempt 1: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py --csv /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpcorgq09v.csv --query Can you get transactions from csv?
[2025-07-10 17:38:18,846] INFO - root - csv2api return code: 1
[2025-07-10 17:38:18,846] INFO - root - csv2api stdout: 
[2025-07-10 17:38:18,846] WARNING - root - csv2api stderr: Traceback (most recent call last):
  File "/Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py", line 6, in <module>
    from src.pipeline.csv_cleaner import clean_and_classify_csv
ModuleNotFoundError: No module named 'src'

[2025-07-10 17:38:18,846] WARNING - root - Command 1 failed, trying next alternative...
[2025-07-10 17:38:18,846] INFO - root - Attempt 2: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py --csv /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpcorgq09v.csv --query Can you get transactions from csv?
[2025-07-10 17:38:18,871] INFO - root - csv2api return code: 1
[2025-07-10 17:38:18,872] INFO - root - csv2api stdout: 
[2025-07-10 17:38:18,872] WARNING - root - csv2api stderr: Traceback (most recent call last):
  File "/Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py", line 6, in <module>
    from src.pipeline.csv_cleaner import clean_and_classify_csv
ModuleNotFoundError: No module named 'src'

[2025-07-10 17:38:18,872] WARNING - root - Command 2 failed, trying next alternative...
[2025-07-10 17:38:18,872] INFO - root - Attempt 3: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py --input /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpcorgq09v.csv --prompt Can you get transactions from csv?
[2025-07-10 17:38:18,897] INFO - root - csv2api return code: 1
[2025-07-10 17:38:18,897] INFO - root - csv2api stdout: 
[2025-07-10 17:38:18,897] WARNING - root - csv2api stderr: Traceback (most recent call last):
  File "/Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py", line 6, in <module>
    from src.pipeline.csv_cleaner import clean_and_classify_csv
ModuleNotFoundError: No module named 'src'

[2025-07-10 17:38:18,897] WARNING - root - Command 3 failed, trying next alternative...
[2025-07-10 17:38:18,897] INFO - root - Attempt 4: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpcorgq09v.csv Can you get transactions from csv?
[2025-07-10 17:38:18,921] INFO - root - csv2api return code: 1
[2025-07-10 17:38:18,922] INFO - root - csv2api stdout: 
[2025-07-10 17:38:18,922] WARNING - root - csv2api stderr: Traceback (most recent call last):
  File "/Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py", line 6, in <module>
    from src.pipeline.csv_cleaner import clean_and_classify_csv
ModuleNotFoundError: No module named 'src'

[2025-07-10 17:38:18,922] ERROR - root - csv2api execution failed: csv2api failed with return code 1
[2025-07-10 17:38:19,087] DEBUG - urllib3.connectionpool - https://us.i.posthog.com:443 "POST /batch/ HTTP/1.1" 200 15
[2025-07-11 01:18:48,245] INFO - pennyworks - CSV file uploaded: medium_get_transaction.csv
[2025-07-11 01:18:48,294] INFO - pennyworks - User input: get transactions from csv
[2025-07-11 01:18:48,296] INFO - root - ==================================================
[2025-07-11 01:18:48,296] INFO - root - NEW USER MESSAGE HANDLER SESSION
[2025-07-11 01:18:48,296] INFO - root - User input: get transactions from csv
[2025-07-11 01:18:48,296] INFO - root - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpijms6vfx.csv
[2025-07-11 01:18:48,297] INFO - root - CSV file exists: True
[2025-07-11 01:18:48,297] INFO - root - CSV file valid: True
[2025-07-11 01:18:48,297] INFO - root - Getting LLM routing decision...
[2025-07-11 01:18:48,301] DEBUG - urllib3.connectionpool - Starting new HTTP connection (1): localhost:11434
[2025-07-11 01:19:03,751] DEBUG - urllib3.connectionpool - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
[2025-07-11 01:19:03,757] INFO - root - LLM response: '_ROUTE_TO_CSV2API'
[2025-07-11 01:19:03,757] INFO - root - Original LLM response: '_ROUTE_TO_CSV2API'
[2025-07-11 01:19:03,757] INFO - root - Cleaned response: '_ROUTE_TO_CSV2API'
[2025-07-11 01:19:03,757] INFO - root - Found ROUTE_TO_CSV2API keyword
[2025-07-11 01:19:03,757] INFO - root - Routing decision: ROUTE_TO_CSV2API
[2025-07-11 01:19:03,757] INFO - root - ROUTING: ROUTE_TO_CSV2API
[2025-07-11 01:19:03,757] INFO - root - Executing csv2api subprocess...
[2025-07-11 01:19:03,758] INFO - root - Looking for csv2api in: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api
[2025-07-11 01:19:03,758] INFO - root - Found csv2api executable at: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py
[2025-07-11 01:19:03,758] INFO - root - Attempt 1: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py --csv /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpijms6vfx.csv --query get transactions from csv
[2025-07-11 01:19:03,819] INFO - root - csv2api return code: 1
[2025-07-11 01:19:03,819] INFO - root - csv2api stdout: 
[2025-07-11 01:19:03,820] WARNING - root - csv2api stderr: Traceback (most recent call last):
  File "/Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py", line 6, in <module>
    from src.pipeline.csv_cleaner import clean_and_classify_csv
ModuleNotFoundError: No module named 'src'

[2025-07-11 01:19:03,820] WARNING - root - Command 1 failed, trying next alternative...
[2025-07-11 01:19:03,820] INFO - root - Attempt 2: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py --csv /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpijms6vfx.csv --query get transactions from csv
[2025-07-11 01:19:03,846] INFO - root - csv2api return code: 1
[2025-07-11 01:19:03,846] INFO - root - csv2api stdout: 
[2025-07-11 01:19:03,846] WARNING - root - csv2api stderr: Traceback (most recent call last):
  File "/Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py", line 6, in <module>
    from src.pipeline.csv_cleaner import clean_and_classify_csv
ModuleNotFoundError: No module named 'src'

[2025-07-11 01:19:03,847] WARNING - root - Command 2 failed, trying next alternative...
[2025-07-11 01:19:03,847] INFO - root - Attempt 3: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py --input /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpijms6vfx.csv --prompt get transactions from csv
[2025-07-11 01:19:03,873] INFO - root - csv2api return code: 1
[2025-07-11 01:19:03,873] INFO - root - csv2api stdout: 
[2025-07-11 01:19:03,873] WARNING - root - csv2api stderr: Traceback (most recent call last):
  File "/Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py", line 6, in <module>
    from src.pipeline.csv_cleaner import clean_and_classify_csv
ModuleNotFoundError: No module named 'src'

[2025-07-11 01:19:03,873] WARNING - root - Command 3 failed, trying next alternative...
[2025-07-11 01:19:03,873] INFO - root - Attempt 4: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpijms6vfx.csv get transactions from csv
[2025-07-11 01:19:03,899] INFO - root - csv2api return code: 1
[2025-07-11 01:19:03,899] INFO - root - csv2api stdout: 
[2025-07-11 01:19:03,899] WARNING - root - csv2api stderr: Traceback (most recent call last):
  File "/Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py", line 6, in <module>
    from src.pipeline.csv_cleaner import clean_and_classify_csv
ModuleNotFoundError: No module named 'src'

[2025-07-11 01:19:03,899] ERROR - root - csv2api execution failed: csv2api failed with return code 1
[2025-07-11 01:19:04,071] DEBUG - urllib3.connectionpool - Resetting dropped connection: us.i.posthog.com
[2025-07-11 01:19:04,240] DEBUG - urllib3.connectionpool - https://us.i.posthog.com:443 "POST /batch/ HTTP/1.1" 200 15
[2025-07-11 01:20:04,438] INFO - pennyworks - CSV file uploaded: medium_get_transaction.csv
[2025-07-11 01:20:04,468] INFO - pennyworks - User input: get transactions from csv
[2025-07-11 01:20:04,469] INFO - root - ==================================================
[2025-07-11 01:20:04,469] INFO - root - NEW USER MESSAGE HANDLER SESSION
[2025-07-11 01:20:04,471] INFO - root - User input: get transactions from csv
[2025-07-11 01:20:04,472] INFO - root - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp18jri5vb.csv
[2025-07-11 01:20:04,472] INFO - root - CSV file exists: True
[2025-07-11 01:20:04,473] INFO - root - CSV file valid: True
[2025-07-11 01:20:04,474] INFO - root - Getting LLM routing decision...
[2025-07-11 01:20:04,476] DEBUG - urllib3.connectionpool - Starting new HTTP connection (1): localhost:11434
[2025-07-11 01:20:25,573] DEBUG - urllib3.connectionpool - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
[2025-07-11 01:20:25,577] INFO - root - LLM response: 'ROUTE_TO_CSV2API ðŸ™‚'
[2025-07-11 01:20:25,577] INFO - root - Original LLM response: 'ROUTE_TO_CSV2API ðŸ™‚'
[2025-07-11 01:20:25,578] INFO - root - Cleaned response: 'ROUTE_TO_CSV2API'
[2025-07-11 01:20:25,579] INFO - root - Found ROUTE_TO_CSV2API keyword
[2025-07-11 01:20:25,579] INFO - root - Routing decision: ROUTE_TO_CSV2API
[2025-07-11 01:20:25,579] INFO - root - ROUTING: ROUTE_TO_CSV2API
[2025-07-11 01:20:25,581] INFO - root - Executing csv2api subprocess...
[2025-07-11 01:20:25,581] INFO - root - Looking for csv2api in: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api
[2025-07-11 01:20:25,582] INFO - root - Found csv2api executable at: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py
[2025-07-11 01:20:25,582] INFO - root - Attempt 1: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py --csv /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp18jri5vb.csv --query get transactions from csv
[2025-07-11 01:20:25,665] INFO - root - csv2api return code: 2
[2025-07-11 01:20:25,666] INFO - root - csv2api stdout: 
[2025-07-11 01:20:25,666] WARNING - root - csv2api stderr: usage: main.py [-h] -i INPUT [-w WORKERS]
main.py: error: the following arguments are required: -i/--input

[2025-07-11 01:20:25,666] WARNING - root - Command 1 failed, trying next alternative...
[2025-07-11 01:20:25,666] INFO - root - Attempt 2: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py --csv /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp18jri5vb.csv --query get transactions from csv
[2025-07-11 01:20:25,701] INFO - root - csv2api return code: 2
[2025-07-11 01:20:25,701] INFO - root - csv2api stdout: 
[2025-07-11 01:20:25,701] WARNING - root - csv2api stderr: usage: main.py [-h] -i INPUT [-w WORKERS]
main.py: error: the following arguments are required: -i/--input

[2025-07-11 01:20:25,701] WARNING - root - Command 2 failed, trying next alternative...
[2025-07-11 01:20:25,701] INFO - root - Attempt 3: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py --input /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp18jri5vb.csv --prompt get transactions from csv
[2025-07-11 01:20:25,735] INFO - root - csv2api return code: 2
[2025-07-11 01:20:25,735] INFO - root - csv2api stdout: 
[2025-07-11 01:20:25,735] WARNING - root - csv2api stderr: usage: main.py [-h] -i INPUT [-w WORKERS]
main.py: error: unrecognized arguments: --prompt get transactions from csv

[2025-07-11 01:20:25,735] WARNING - root - Command 3 failed, trying next alternative...
[2025-07-11 01:20:25,735] INFO - root - Attempt 4: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp18jri5vb.csv get transactions from csv
[2025-07-11 01:20:25,768] INFO - root - csv2api return code: 2
[2025-07-11 01:20:25,769] INFO - root - csv2api stdout: 
[2025-07-11 01:20:25,769] WARNING - root - csv2api stderr: usage: main.py [-h] -i INPUT [-w WORKERS]
main.py: error: the following arguments are required: -i/--input

[2025-07-11 01:20:25,769] ERROR - root - csv2api execution failed: csv2api failed with return code 2
[2025-07-11 01:20:25,922] DEBUG - urllib3.connectionpool - https://us.i.posthog.com:443 "POST /batch/ HTTP/1.1" 200 15
[2025-07-11 01:24:42,969] DEBUG - urllib3.connectionpool - https://us.i.posthog.com:443 "POST /batch/ HTTP/1.1" 200 15
[2025-07-11 01:24:49,835] INFO - pennyworks - CSV file uploaded: medium_get_transaction.csv
[2025-07-11 01:24:50,096] DEBUG - urllib3.connectionpool - https://us.i.posthog.com:443 "POST /batch/ HTTP/1.1" 200 15
[2025-07-11 01:24:53,856] INFO - pennyworks - CSV file uploaded: medium_get_transaction.csv
[2025-07-11 01:24:53,872] INFO - pennyworks - User input: get transactions from csv
[2025-07-11 01:24:53,874] INFO - root - ==================================================
[2025-07-11 01:24:53,874] INFO - root - NEW USER MESSAGE HANDLER SESSION
[2025-07-11 01:24:53,874] INFO - root - User input: get transactions from csv
[2025-07-11 01:24:53,874] INFO - root - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmprsf384h1.csv
[2025-07-11 01:24:53,874] INFO - root - CSV file exists: True
[2025-07-11 01:24:53,874] INFO - root - CSV file valid: True
[2025-07-11 01:24:53,874] INFO - root - Getting LLM routing decision...
[2025-07-11 01:24:53,878] DEBUG - urllib3.connectionpool - Starting new HTTP connection (1): localhost:11434
[2025-07-11 01:25:10,949] DEBUG - urllib3.connectionpool - http://localhost:11434 "POST /api/generate HTTP/1.1" 200 None
[2025-07-11 01:25:10,956] INFO - root - LLM response: 'Penny: ROUTE_TO_CSV2API'
[2025-07-11 01:25:10,956] INFO - root - Original LLM response: 'Penny: ROUTE_TO_CSV2API'
[2025-07-11 01:25:10,956] INFO - root - Cleaned response: 'ROUTE_TO_CSV2API'
[2025-07-11 01:25:10,956] INFO - root - Found ROUTE_TO_CSV2API keyword
[2025-07-11 01:25:10,956] INFO - root - Routing decision: ROUTE_TO_CSV2API
[2025-07-11 01:25:10,956] INFO - root - ROUTING: ROUTE_TO_CSV2API
[2025-07-11 01:25:10,957] INFO - root - Executing csv2api subprocess...
[2025-07-11 01:25:10,958] INFO - root - Looking for csv2api in: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api
[2025-07-11 01:25:10,958] INFO - root - Found csv2api executable at: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py
[2025-07-11 01:25:10,958] INFO - root - Attempt 1: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py -i /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmprsf384h1.csv --query get transactions from csv
[2025-07-11 01:25:11,044] INFO - root - csv2api return code: 2
[2025-07-11 01:25:11,044] INFO - root - csv2api stdout: 
[2025-07-11 01:25:11,044] WARNING - root - csv2api stderr: usage: main.py [-h] -i INPUT [-w WORKERS]
main.py: error: unrecognized arguments: --query get transactions from csv

[2025-07-11 01:25:11,044] WARNING - root - Command 1 failed, trying next alternative...
[2025-07-11 01:25:11,045] INFO - root - Attempt 2: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py -i /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmprsf384h1.csv --query get transactions from csv
[2025-07-11 01:25:11,080] INFO - root - csv2api return code: 2
[2025-07-11 01:25:11,080] INFO - root - csv2api stdout: 
[2025-07-11 01:25:11,080] WARNING - root - csv2api stderr: usage: main.py [-h] -i INPUT [-w WORKERS]
main.py: error: unrecognized arguments: --query get transactions from csv

[2025-07-11 01:25:11,080] WARNING - root - Command 2 failed, trying next alternative...
[2025-07-11 01:25:11,081] INFO - root - Attempt 3: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py --input /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmprsf384h1.csv --prompt get transactions from csv
[2025-07-11 01:25:11,116] INFO - root - csv2api return code: 2
[2025-07-11 01:25:11,116] INFO - root - csv2api stdout: 
[2025-07-11 01:25:11,116] WARNING - root - csv2api stderr: usage: main.py [-h] -i INPUT [-w WORKERS]
main.py: error: unrecognized arguments: --prompt get transactions from csv

[2025-07-11 01:25:11,116] WARNING - root - Command 3 failed, trying next alternative...
[2025-07-11 01:25:11,116] INFO - root - Attempt 4: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmprsf384h1.csv get transactions from csv
[2025-07-11 01:25:11,151] INFO - root - csv2api return code: 2
[2025-07-11 01:25:11,151] INFO - root - csv2api stdout: 
[2025-07-11 01:25:11,151] WARNING - root - csv2api stderr: usage: main.py [-h] -i INPUT [-w WORKERS]
main.py: error: the following arguments are required: -i/--input

[2025-07-11 01:25:11,151] ERROR - root - csv2api execution failed: csv2api failed with return code 2
[2025-07-11 01:25:11,306] DEBUG - urllib3.connectionpool - https://us.i.posthog.com:443 "POST /batch/ HTTP/1.1" 200 15
[2025-07-11 10:08:16,162] INFO - ==================================================
[2025-07-11 10:08:16,163] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-11 10:08:16,163] INFO - User input: can you get transactions from the csv
[2025-07-11 10:08:16,163] INFO - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmppr2r0b4b.csv
[2025-07-11 10:08:16,163] INFO - CSV file exists: True
[2025-07-11 10:08:16,163] INFO - CSV file valid: True
[2025-07-11 10:08:16,163] INFO - Getting LLM routing decision...
[2025-07-11 10:08:36,531] INFO - LLM response: 'ROUTE_TO_CSV2API'
[2025-07-11 10:08:36,534] INFO - Original LLM response: 'ROUTE_TO_CSV2API'
[2025-07-11 10:08:36,534] INFO - Cleaned response: 'ROUTE_TO_CSV2API'
[2025-07-11 10:08:36,534] INFO - Found ROUTE_TO_CSV2API keyword
[2025-07-11 10:08:36,534] INFO - Routing decision: ROUTE_TO_CSV2API
[2025-07-11 10:08:36,535] INFO - ROUTING: ROUTE_TO_CSV2API
[2025-07-11 10:08:36,535] INFO - Executing csv2api subprocess...
[2025-07-11 10:08:36,536] INFO - Looking for csv2api in: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api
[2025-07-11 10:08:36,536] INFO - Found csv2api executable at: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py
[2025-07-11 10:08:36,536] INFO - Attempt 1: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py -i /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmppr2r0b4b.csv
[2025-07-11 10:08:36,623] INFO - csv2api return code: 0
[2025-07-11 10:08:36,623] INFO - csv2api stdout: 
[2025-07-11 10:08:36,623] WARNING - csv2api stderr: 2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - INFO - Starting to process CSV file: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmppr2r0b4b.csv
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - WARNING - Row 1: No valid tx_hash found in any column
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - WARNING - Row 2: No valid tx_hash found in any column
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - WARNING - Row 3: No valid tx_hash found in any column
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - WARNING - Row 4: No valid tx_hash found in any column
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - WARNING - Row 5: No valid tx_hash found in any column
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - WARNING - Row 6: No valid tx_hash found in any column
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - WARNING - Row 7: No valid tx_hash found in any column
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - WARNING - Row 8: No valid tx_hash found in any column
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - WARNING - Row 9: No valid tx_hash found in any column
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - WARNING - Row 10: No valid tx_hash found in any column
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - INFO - CSV processing summary:
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - INFO - Total rows processed: 10
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - INFO - Rows skipped: 10
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - INFO - Rows successfully processed: 0
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - INFO - Function type counts: {<FunctionType.TAG_AS_EXPENSE: 'tag_as_expense'>: 0, <FunctionType.GET_TRANSACTION: 'get_transaction'>: 0, <FunctionType.GET_RECEIPT: 'get_receipt'>: 0}
2025-07-11 10:08:36,620 - src.pipeline.csv_cleaner - WARNING - No valid rows found, defaulting to get_transaction
2025-07-11 10:08:36,620 - __main__ - INFO - Classified CSV as get_transaction with 0 rows
2025-07-11 10:08:36,620 - src.pipeline.batch_caller - INFO - Processed 0 rows: 0 successful, 0 failed
2025-07-11 10:08:36,620 - __main__ - INFO - No rows were successfully processed

[2025-07-11 10:08:36,623] INFO - csv2api executed successfully
[2025-07-11 10:10:11,790] INFO - CSV file uploaded: small_fill_account_by.csv
[2025-07-11 10:10:18,526] INFO - CSV file uploaded: small_fill_account_by.csv
[2025-07-11 10:10:18,536] INFO - User input: fill account by for csv
[2025-07-11 10:10:18,539] INFO - ==================================================
[2025-07-11 10:10:18,539] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-11 10:10:18,539] INFO - User input: fill account by for csv
[2025-07-11 10:10:18,539] INFO - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpfyanoqul.csv
[2025-07-11 10:10:18,540] INFO - CSV file exists: True
[2025-07-11 10:10:18,541] INFO - CSV file valid: True
[2025-07-11 10:10:18,541] INFO - Getting LLM routing decision...
[2025-07-11 10:10:38,118] INFO - LLM response: 'Penny: Hi there! It looks like you have a CSV file ready for processing. Could you clarify what you'd like to do with it? Are you looking to analyze, extract, get, or convert the data? Let me know how I can assist you! ðŸ§ '
[2025-07-11 10:10:38,119] INFO - Original LLM response: 'Penny: Hi there! It looks like you have a CSV file ready for processing. Could you clarify what you'd like to do with it? Are you looking to analyze, extract, get, or convert the data? Let me know how I can assist you! ðŸ§ '
[2025-07-11 10:10:38,119] INFO - Cleaned response: 'Hi there It looks like you have a CSV file ready for processing Could you clarify what youd like to do with it Are you looking to analyze extract get or convert the data Let me know how I can assist you'
[2025-07-11 10:10:38,119] INFO - No exact routing keyword found, but detected CSV processing intent - routing to CSV2API
[2025-07-11 10:10:38,119] INFO - Routing decision: ROUTE_TO_CSV2API
[2025-07-11 10:10:38,119] INFO - ROUTING: ROUTE_TO_CSV2API
[2025-07-11 10:10:38,120] INFO - Executing csv2api subprocess...
[2025-07-11 10:10:38,120] INFO - Looking for csv2api in: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api
[2025-07-11 10:10:38,120] INFO - Found csv2api executable at: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py
[2025-07-11 10:10:38,121] INFO - Attempt 1: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py -i /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpfyanoqul.csv
[2025-07-11 10:10:38,203] INFO - csv2api return code: 0
[2025-07-11 10:10:38,203] INFO - csv2api stdout: 
[2025-07-11 10:10:38,203] WARNING - csv2api stderr: 2025-07-11 10:10:38,200 - src.pipeline.csv_cleaner - INFO - Starting to process CSV file: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpfyanoqul.csv
2025-07-11 10:10:38,200 - src.pipeline.csv_cleaner - WARNING - Row 1: No valid tx_hash found in any column
2025-07-11 10:10:38,200 - src.pipeline.csv_cleaner - WARNING - Row 2: No valid tx_hash found in any column
2025-07-11 10:10:38,200 - src.pipeline.csv_cleaner - WARNING - Row 3: No valid tx_hash found in any column
2025-07-11 10:10:38,200 - src.pipeline.csv_cleaner - WARNING - Row 4: No valid tx_hash found in any column
2025-07-11 10:10:38,200 - src.pipeline.csv_cleaner - WARNING - Row 5: No valid tx_hash found in any column
2025-07-11 10:10:38,200 - src.pipeline.csv_cleaner - INFO - CSV processing summary:
2025-07-11 10:10:38,200 - src.pipeline.csv_cleaner - INFO - Total rows processed: 5
2025-07-11 10:10:38,200 - src.pipeline.csv_cleaner - INFO - Rows skipped: 5
2025-07-11 10:10:38,200 - src.pipeline.csv_cleaner - INFO - Rows successfully processed: 0
2025-07-11 10:10:38,200 - src.pipeline.csv_cleaner - INFO - Function type counts: {<FunctionType.TAG_AS_EXPENSE: 'tag_as_expense'>: 0, <FunctionType.GET_TRANSACTION: 'get_transaction'>: 0, <FunctionType.GET_RECEIPT: 'get_receipt'>: 0}
2025-07-11 10:10:38,200 - src.pipeline.csv_cleaner - WARNING - No valid rows found, defaulting to get_transaction
2025-07-11 10:10:38,200 - __main__ - INFO - Classified CSV as get_transaction with 0 rows
2025-07-11 10:10:38,200 - src.pipeline.batch_caller - INFO - Processed 0 rows: 0 successful, 0 failed
2025-07-11 10:10:38,200 - __main__ - INFO - No rows were successfully processed

[2025-07-11 10:10:38,203] INFO - csv2api executed successfully
[2025-07-11 11:06:37,904] INFO - ==================================================
[2025-07-11 11:06:37,905] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-11 11:06:37,905] INFO - User input: Get transactions from csv
[2025-07-11 11:06:37,905] INFO - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpoj9m31vx.csv
[2025-07-11 11:06:37,905] INFO - CSV file exists: True
[2025-07-11 11:06:37,906] INFO - CSV file valid: True
[2025-07-11 11:06:37,906] INFO - Getting LLM routing decision...
[2025-07-11 11:06:54,988] INFO - LLM response: 'Penny will respond with only "ROUTE_TO_CSV2API".'
[2025-07-11 11:06:54,989] INFO - Original LLM response: 'Penny will respond with only "ROUTE_TO_CSV2API".'
[2025-07-11 11:06:54,990] INFO - Cleaned response: 'Penny will respond with only ROUTE_TO_CSV2API'
[2025-07-11 11:06:54,991] INFO - Found ROUTE_TO_CSV2API keyword
[2025-07-11 11:06:54,991] INFO - Routing decision: ROUTE_TO_CSV2API
[2025-07-11 11:06:54,991] INFO - ROUTING: ROUTE_TO_CSV2API
[2025-07-11 11:06:54,992] INFO - Executing csv2api subprocess...
[2025-07-11 11:06:54,992] INFO - Looking for csv2api in: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api
[2025-07-11 11:06:54,992] INFO - Found csv2api executable at: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py
[2025-07-11 11:06:54,992] INFO - Attempt 1: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py -i /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpoj9m31vx.csv
[2025-07-11 11:06:55,138] INFO - csv2api return code: 0
[2025-07-11 11:06:55,138] INFO - csv2api stdout: 
[2025-07-11 11:06:55,138] WARNING - csv2api stderr: 2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - INFO - Starting to process CSV file: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpoj9m31vx.csv
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - WARNING - Row 1: No valid tx_hash found in any column
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - WARNING - Row 2: No valid tx_hash found in any column
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - WARNING - Row 3: No valid tx_hash found in any column
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - WARNING - Row 4: No valid tx_hash found in any column
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - WARNING - Row 5: No valid tx_hash found in any column
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - WARNING - Row 6: No valid tx_hash found in any column
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - WARNING - Row 7: No valid tx_hash found in any column
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - WARNING - Row 8: No valid tx_hash found in any column
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - WARNING - Row 9: No valid tx_hash found in any column
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - WARNING - Row 10: No valid tx_hash found in any column
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - INFO - CSV processing summary:
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - INFO - Total rows processed: 10
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - INFO - Rows skipped: 10
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - INFO - Rows successfully processed: 0
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - INFO - Function type counts: {<FunctionType.TAG_AS_EXPENSE: 'tag_as_expense'>: 0, <FunctionType.GET_TRANSACTION: 'get_transaction'>: 0, <FunctionType.GET_RECEIPT: 'get_receipt'>: 0}
2025-07-11 11:06:55,133 - src.pipeline.csv_cleaner - WARNING - No valid rows found, defaulting to get_transaction
2025-07-11 11:06:55,133 - __main__ - INFO - Classified CSV as get_transaction with 0 rows
2025-07-11 11:06:55,133 - src.pipeline.batch_caller - INFO - Processed 0 rows: 0 successful, 0 failed
2025-07-11 11:06:55,133 - __main__ - INFO - No rows were successfully processed

[2025-07-11 11:06:55,138] INFO - csv2api executed successfully
[2025-07-11 11:08:17,402] INFO - ==================================================
[2025-07-11 11:08:17,402] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-11 11:08:17,402] INFO - User input: get transactions from csv
[2025-07-11 11:08:17,402] INFO - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp451hexcn.csv
[2025-07-11 11:08:17,402] INFO - CSV file exists: True
[2025-07-11 11:08:17,403] INFO - CSV file valid: True
[2025-07-11 11:08:17,403] INFO - Getting LLM routing decision...
[2025-07-11 11:08:36,667] INFO - LLM response: 'Penny should respond with "ROUTE_TO_CSV2API" to follow the specified routing instructions for processing the CSV data.'
[2025-07-11 11:08:36,668] INFO - Original LLM response: 'Penny should respond with "ROUTE_TO_CSV2API" to follow the specified routing instructions for processing the CSV data.'
[2025-07-11 11:08:36,669] INFO - Cleaned response: 'Penny should respond with ROUTE_TO_CSV2API to follow the specified routing instructions for processing the CSV data'
[2025-07-11 11:08:36,669] INFO - Found ROUTE_TO_CSV2API keyword
[2025-07-11 11:08:36,669] INFO - Routing decision: ROUTE_TO_CSV2API
[2025-07-11 11:08:36,669] INFO - ROUTING: ROUTE_TO_CSV2API
[2025-07-11 11:08:36,670] INFO - Executing csv2api subprocess...
[2025-07-11 11:08:36,670] INFO - Looking for csv2api in: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api
[2025-07-11 11:08:36,670] INFO - Found csv2api executable at: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py
[2025-07-11 11:08:36,670] INFO - Attempt 1: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py -i /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp451hexcn.csv
[2025-07-11 11:08:36,755] INFO - csv2api return code: 0
[2025-07-11 11:08:36,756] INFO - csv2api stdout: 
[2025-07-11 11:08:36,756] WARNING - csv2api stderr: 2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - INFO - Starting to process CSV file: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp451hexcn.csv
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - WARNING - Row 1: No valid tx_hash found in any column
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - WARNING - Row 2: No valid tx_hash found in any column
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - WARNING - Row 3: No valid tx_hash found in any column
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - WARNING - Row 4: No valid tx_hash found in any column
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - WARNING - Row 5: No valid tx_hash found in any column
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - WARNING - Row 6: No valid tx_hash found in any column
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - WARNING - Row 7: No valid tx_hash found in any column
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - WARNING - Row 8: No valid tx_hash found in any column
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - WARNING - Row 9: No valid tx_hash found in any column
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - WARNING - Row 10: No valid tx_hash found in any column
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - INFO - CSV processing summary:
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - INFO - Total rows processed: 10
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - INFO - Rows skipped: 10
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - INFO - Rows successfully processed: 0
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - INFO - Function type counts: {<FunctionType.TAG_AS_EXPENSE: 'tag_as_expense'>: 0, <FunctionType.GET_TRANSACTION: 'get_transaction'>: 0, <FunctionType.GET_RECEIPT: 'get_receipt'>: 0}
2025-07-11 11:08:36,751 - src.pipeline.csv_cleaner - WARNING - No valid rows found, defaulting to get_transaction
2025-07-11 11:08:36,751 - __main__ - INFO - Classified CSV as get_transaction with 0 rows
2025-07-11 11:08:36,751 - src.pipeline.batch_caller - INFO - Processed 0 rows: 0 successful, 0 failed
2025-07-11 11:08:36,751 - __main__ - INFO - No rows were successfully processed

[2025-07-11 11:08:36,756] INFO - csv2api executed successfully
[2025-07-18 13:27:20,530] INFO - ==================================================
[2025-07-18 13:27:20,530] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-18 13:27:20,530] INFO - User input: get transaction from this csv
[2025-07-18 13:27:20,530] INFO - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpre70u754.csv
[2025-07-18 13:27:20,530] INFO - CSV file exists: True
[2025-07-18 13:27:20,530] INFO - CSV file valid: True
[2025-07-18 13:27:20,530] INFO - Getting LLM routing decision...
[2025-07-18 13:27:44,193] INFO - LLM response: 'Penny should respond with "ROUTE_TO_CSV2API".'
[2025-07-18 13:27:44,194] INFO - Original LLM response: 'Penny should respond with "ROUTE_TO_CSV2API".'
[2025-07-18 13:27:44,195] INFO - Cleaned response: 'Penny should respond with ROUTE_TO_CSV2API'
[2025-07-18 13:27:44,195] INFO - Found ROUTE_TO_CSV2API keyword
[2025-07-18 13:27:44,195] INFO - Routing decision: ROUTE_TO_CSV2API
[2025-07-18 13:27:44,195] INFO - ROUTING: ROUTE_TO_CSV2API
[2025-07-18 13:27:44,195] INFO - Executing csv2api subprocess...
[2025-07-18 13:27:44,196] INFO - Looking for csv2api in: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api
[2025-07-18 13:27:44,196] INFO - Found csv2api executable at: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py
[2025-07-18 13:27:44,196] INFO - Attempt 1: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py -i /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpre70u754.csv
[2025-07-18 13:27:44,275] INFO - csv2api return code: 0
[2025-07-18 13:27:44,276] INFO - csv2api stdout: 
[2025-07-18 13:27:44,276] WARNING - csv2api stderr: 2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - INFO - Starting to process CSV file: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpre70u754.csv
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - WARNING - Row 1: No valid tx_hash found in any column
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - WARNING - Row 2: No valid tx_hash found in any column
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - WARNING - Row 3: No valid tx_hash found in any column
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - WARNING - Row 4: No valid tx_hash found in any column
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - WARNING - Row 5: No valid tx_hash found in any column
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - WARNING - Row 6: No valid tx_hash found in any column
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - WARNING - Row 7: No valid tx_hash found in any column
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - WARNING - Row 8: No valid tx_hash found in any column
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - WARNING - Row 9: No valid tx_hash found in any column
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - WARNING - Row 10: No valid tx_hash found in any column
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - INFO - CSV processing summary:
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - INFO - Total rows processed: 10
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - INFO - Rows skipped: 10
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - INFO - Rows successfully processed: 0
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - INFO - Function type counts: {<FunctionType.TAG_AS_EXPENSE: 'tag_as_expense'>: 0, <FunctionType.GET_TRANSACTION: 'get_transaction'>: 0, <FunctionType.GET_RECEIPT: 'get_receipt'>: 0}
2025-07-18 13:27:44,272 - src.pipeline.csv_cleaner - WARNING - No valid rows found, defaulting to get_transaction
2025-07-18 13:27:44,272 - __main__ - INFO - Classified CSV as get_transaction with 0 rows
2025-07-18 13:27:44,272 - src.pipeline.batch_caller - INFO - Processed 0 rows: 0 successful, 0 failed
2025-07-18 13:27:44,272 - __main__ - INFO - No rows were successfully processed

[2025-07-18 13:27:44,276] INFO - csv2api executed successfully
[2025-07-25 16:30:46,351] INFO - ==================================================
[2025-07-25 16:30:46,356] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-25 16:30:46,356] INFO - User input: Hey penny how are you?
[2025-07-25 16:30:46,357] INFO - CSV path: None
[2025-07-25 16:30:46,357] INFO - CSV file exists: False
[2025-07-25 16:30:46,357] INFO - CSV file valid: False
[2025-07-25 16:30:46,358] INFO - Getting LLM routing decision...
[2025-07-25 16:31:03,901] INFO - LLM response: 'I'm here to help you with accounting or crypto-related questions! How are you today? ðŸ˜Š'
[2025-07-25 16:31:03,902] INFO - Original LLM response: 'I'm here to help you with accounting or crypto-related questions! How are you today? ðŸ˜Š'
[2025-07-25 16:31:03,902] INFO - Cleaned response: 'Im here to help you with accounting or cryptorelated questions How are you today'
[2025-07-25 16:31:03,902] INFO - No routing keywords found, using direct response
[2025-07-25 16:31:03,902] INFO - Routing decision: DIRECT_RESPONSE
[2025-07-25 16:31:03,902] INFO - ROUTING: Direct LLM response
[2025-07-25 17:01:55,302] INFO - CSV file uploaded: medium_get_transaction.csv
[2025-07-25 17:02:06,509] INFO - CSV file uploaded: medium_get_transaction.csv
[2025-07-25 17:02:06,515] INFO - User input: I'm doing well, can you go ahead and get transactions from this csv
[2025-07-25 17:02:06,517] INFO - ==================================================
[2025-07-25 17:02:06,517] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-25 17:02:06,517] INFO - User input: I'm doing well, can you go ahead and get transactions from this csv
[2025-07-25 17:02:06,517] INFO - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp6aumjy56.csv
[2025-07-25 17:02:06,517] INFO - CSV file exists: True
[2025-07-25 17:02:06,517] INFO - CSV file valid: True
[2025-07-25 17:02:06,517] INFO - Getting LLM routing decision...
[2025-07-25 17:02:24,326] INFO - LLM response: 'Penny: 

_ROUTE_TO_CSV2API'
[2025-07-25 17:02:24,327] INFO - Original LLM response: 'Penny: 

_ROUTE_TO_CSV2API'
[2025-07-25 17:02:24,327] INFO - Cleaned response: '_ROUTE_TO_CSV2API'
[2025-07-25 17:02:24,327] INFO - Found ROUTE_TO_CSV2API keyword
[2025-07-25 17:02:24,328] INFO - Routing decision: ROUTE_TO_CSV2API
[2025-07-25 17:02:24,328] INFO - ROUTING: ROUTE_TO_CSV2API
[2025-07-25 17:02:24,328] INFO - Executing csv2api subprocess...
[2025-07-25 17:02:24,328] INFO - Looking for csv2api in: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api
[2025-07-25 17:02:24,328] INFO - Found csv2api executable at: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py
[2025-07-25 17:02:24,329] INFO - Attempt 1: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py -i /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp6aumjy56.csv
[2025-07-25 17:02:24,406] INFO - csv2api return code: 0
[2025-07-25 17:02:24,407] INFO - csv2api stdout: 
[2025-07-25 17:02:24,407] WARNING - csv2api stderr: 2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - INFO - Starting to process CSV file: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp6aumjy56.csv
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - WARNING - Row 1: No valid tx_hash found in any column
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - WARNING - Row 2: No valid tx_hash found in any column
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - WARNING - Row 3: No valid tx_hash found in any column
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - WARNING - Row 4: No valid tx_hash found in any column
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - WARNING - Row 5: No valid tx_hash found in any column
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - WARNING - Row 6: No valid tx_hash found in any column
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - WARNING - Row 7: No valid tx_hash found in any column
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - WARNING - Row 8: No valid tx_hash found in any column
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - WARNING - Row 9: No valid tx_hash found in any column
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - WARNING - Row 10: No valid tx_hash found in any column
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - INFO - CSV processing summary:
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - INFO - Total rows processed: 10
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - INFO - Rows skipped: 10
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - INFO - Rows successfully processed: 0
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - INFO - Function type counts: {<FunctionType.TAG_AS_EXPENSE: 'tag_as_expense'>: 0, <FunctionType.GET_TRANSACTION: 'get_transaction'>: 0, <FunctionType.GET_RECEIPT: 'get_receipt'>: 0}
2025-07-25 17:02:24,403 - src.pipeline.csv_cleaner - WARNING - No valid rows found, defaulting to get_transaction
2025-07-25 17:02:24,403 - __main__ - INFO - Classified CSV as get_transaction with 0 rows
2025-07-25 17:02:24,403 - src.pipeline.batch_caller - INFO - Processed 0 rows: 0 successful, 0 failed
2025-07-25 17:02:24,403 - __main__ - INFO - No rows were successfully processed

[2025-07-25 17:02:24,407] INFO - csv2api executed successfully
[2025-07-25 17:20:49,424] INFO - CSV file uploaded: get_transaction_sample.csv
[2025-07-25 17:20:56,103] INFO - CSV file uploaded: get_transaction_sample.csv
[2025-07-25 17:20:56,110] INFO - User input: can you get transaction from this csv?
[2025-07-25 17:20:56,112] INFO - ==================================================
[2025-07-25 17:20:56,112] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-25 17:20:56,112] INFO - User input: can you get transaction from this csv?
[2025-07-25 17:20:56,112] INFO - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmp642d2b1l.csv
[2025-07-25 17:20:56,112] INFO - CSV file exists: True
[2025-07-25 17:20:56,113] INFO - CSV file valid: False
[2025-07-25 17:20:56,113] INFO - Getting LLM routing decision...
[2025-07-25 17:21:09,704] INFO - LLM response: 'CSV_REQUIRED'
[2025-07-25 17:21:09,705] INFO - Original LLM response: 'CSV_REQUIRED'
[2025-07-25 17:21:09,705] INFO - Cleaned response: 'CSV_REQUIRED'
[2025-07-25 17:21:09,705] INFO - Found CSV_REQUIRED keyword
[2025-07-25 17:21:09,705] INFO - Routing decision: CSV_REQUIRED
[2025-07-25 17:21:09,705] INFO - ROUTING: CSV_REQUIRED
[2025-07-25 17:21:22,642] INFO - User input: how are you penny?
[2025-07-25 17:21:22,645] INFO - ==================================================
[2025-07-25 17:21:22,645] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-25 17:21:22,645] INFO - User input: how are you penny?
[2025-07-25 17:21:22,645] INFO - CSV path: None
[2025-07-25 17:21:22,645] INFO - CSV file exists: False
[2025-07-25 17:21:22,645] INFO - CSV file valid: False
[2025-07-25 17:21:22,645] INFO - Getting LLM routing decision...
[2025-07-25 17:21:37,221] INFO - LLM response: 'HELLO! Iâ€™m here to help you with your crypto accounting needs. Letâ€™s get started!'
[2025-07-25 17:21:37,222] INFO - Original LLM response: 'HELLO! Iâ€™m here to help you with your crypto accounting needs. Letâ€™s get started!'
[2025-07-25 17:21:37,222] INFO - Cleaned response: 'HELLO Im here to help you with your crypto accounting needs Lets get started'
[2025-07-25 17:21:37,222] INFO - No routing keywords found, using direct response
[2025-07-25 17:21:37,222] INFO - Routing decision: DIRECT_RESPONSE
[2025-07-25 17:21:37,222] INFO - ROUTING: Direct LLM response
[2025-07-25 17:21:44,384] INFO - CSV file uploaded: get_transaction_sample.csv
[2025-07-25 17:21:56,990] INFO - CSV file uploaded: medium_get_transaction.csv
[2025-07-25 17:22:05,936] INFO - CSV file uploaded: get_transaction_sample.csv
[2025-07-25 17:22:16,066] INFO - CSV file uploaded: medium_get_transaction.csv
[2025-07-25 17:24:35,993] INFO - User input: what api calls can be made via csv2api router?
[2025-07-25 17:24:36,000] INFO - ==================================================
[2025-07-25 17:24:36,001] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-25 17:24:36,001] INFO - User input: what api calls can be made via csv2api router?
[2025-07-25 17:24:36,001] INFO - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpabcobt5h.csv
[2025-07-25 17:24:36,001] INFO - CSV file exists: True
[2025-07-25 17:24:36,002] INFO - CSV file valid: True
[2025-07-25 17:24:36,002] INFO - Getting LLM routing decision...
[2025-07-25 17:24:52,392] INFO - LLM response: 'RESPONSE: ROUTE_TO_CSV2API'
[2025-07-25 17:24:52,392] INFO - Original LLM response: 'RESPONSE: ROUTE_TO_CSV2API'
[2025-07-25 17:24:52,392] INFO - Cleaned response: 'RESPONSE ROUTE_TO_CSV2API'
[2025-07-25 17:24:52,393] INFO - Found ROUTE_TO_CSV2API keyword
[2025-07-25 17:24:52,393] INFO - Routing decision: ROUTE_TO_CSV2API
[2025-07-25 17:24:52,393] INFO - ROUTING: ROUTE_TO_CSV2API
[2025-07-25 17:24:52,393] INFO - Executing csv2api subprocess...
[2025-07-25 17:24:52,394] INFO - Looking for csv2api in: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api
[2025-07-25 17:24:52,394] INFO - Found csv2api executable at: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py
[2025-07-25 17:24:52,394] INFO - Attempt 1: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py -i /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpabcobt5h.csv
[2025-07-25 17:24:52,474] INFO - csv2api return code: 0
[2025-07-25 17:24:52,474] INFO - csv2api stdout: 
[2025-07-25 17:24:52,474] WARNING - csv2api stderr: 2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - INFO - Starting to process CSV file: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpabcobt5h.csv
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - WARNING - Row 1: No valid tx_hash found in any column
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - WARNING - Row 2: No valid tx_hash found in any column
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - WARNING - Row 3: No valid tx_hash found in any column
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - WARNING - Row 4: No valid tx_hash found in any column
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - WARNING - Row 5: No valid tx_hash found in any column
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - WARNING - Row 6: No valid tx_hash found in any column
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - WARNING - Row 7: No valid tx_hash found in any column
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - WARNING - Row 8: No valid tx_hash found in any column
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - WARNING - Row 9: No valid tx_hash found in any column
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - WARNING - Row 10: No valid tx_hash found in any column
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - INFO - CSV processing summary:
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - INFO - Total rows processed: 10
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - INFO - Rows skipped: 10
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - INFO - Rows successfully processed: 0
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - INFO - Function type counts: {<FunctionType.TAG_AS_EXPENSE: 'tag_as_expense'>: 0, <FunctionType.GET_TRANSACTION: 'get_transaction'>: 0, <FunctionType.GET_RECEIPT: 'get_receipt'>: 0}
2025-07-25 17:24:52,471 - src.pipeline.csv_cleaner - WARNING - No valid rows found, defaulting to get_transaction
2025-07-25 17:24:52,471 - __main__ - INFO - Classified CSV as get_transaction with 0 rows
2025-07-25 17:24:52,471 - src.pipeline.batch_caller - INFO - Processed 0 rows: 0 successful, 0 failed
2025-07-25 17:24:52,471 - __main__ - INFO - No rows were successfully processed

[2025-07-25 17:24:52,474] INFO - csv2api executed successfully
[2025-07-25 17:31:10,227] INFO - ==================================================
[2025-07-25 17:31:10,228] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-25 17:31:10,229] INFO - User input: What do you do?
[2025-07-25 17:31:10,229] INFO - CSV path: None
[2025-07-25 17:31:10,229] INFO - CSV file exists: False
[2025-07-25 17:31:10,229] INFO - CSV file valid: False
[2025-07-25 17:31:10,229] INFO - Getting LLM routing decision...
[2025-07-25 17:31:26,201] INFO - LLM response: 'Penny: Hello! How can I assist you today? Please share your CSV file so I can help.'
[2025-07-25 17:31:26,202] INFO - Original LLM response: 'Penny: Hello! How can I assist you today? Please share your CSV file so I can help.'
[2025-07-25 17:31:26,202] INFO - Cleaned response: 'Hello How can I assist you today Please share your CSV file so I can help'
[2025-07-25 17:31:26,202] INFO - No routing keywords found, using direct response
[2025-07-25 17:31:26,202] INFO - Routing decision: DIRECT_RESPONSE
[2025-07-25 17:31:26,203] INFO - ROUTING: Direct LLM response
[2025-07-25 17:32:15,069] INFO - User input: What api calls can you make?
[2025-07-25 17:32:15,082] INFO - ==================================================
[2025-07-25 17:32:15,082] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-25 17:32:15,082] INFO - User input: What api calls can you make?
[2025-07-25 17:32:15,082] INFO - CSV path: None
[2025-07-25 17:32:15,082] INFO - CSV file exists: False
[2025-07-25 17:32:15,083] INFO - CSV file valid: False
[2025-07-25 17:32:15,083] INFO - Getting LLM routing decision...
[2025-07-25 17:32:29,936] INFO - LLM response: 'I'm here to assist you with any crypto-related tasks! If you have specific questions or need help with transactions, accounting, or anything else related to crypto, feel free to ask. When you're ready to process a CSV file, let me know, and I'll make sure to route it correctly for you!'
[2025-07-25 17:32:29,936] INFO - Original LLM response: 'I'm here to assist you with any crypto-related tasks! If you have specific questions or need help with transactions, accounting, or anything else related to crypto, feel free to ask. When you're ready to process a CSV file, let me know, and I'll make sure to route it correctly for you!'
[2025-07-25 17:32:29,937] INFO - Cleaned response: 'Im here to assist you with any cryptorelated tasks If you have specific questions or need help with transactions accounting or anything else related to crypto feel free to ask When youre ready to process a CSV file let me know and Ill make sure to route it correctly for you'
[2025-07-25 17:32:29,937] INFO - No exact routing keyword found, but detected CSV processing intent - routing to CSV2API
[2025-07-25 17:32:29,937] INFO - Routing decision: ROUTE_TO_CSV2API
[2025-07-25 17:32:29,937] INFO - ROUTING: ROUTE_TO_CSV2API
[2025-07-25 17:32:29,937] ERROR - CSV required but not valid
[2025-07-25 17:32:44,740] INFO - CSV file uploaded: medium_get_transaction.csv
[2025-07-25 17:32:49,698] INFO - CSV file uploaded: medium_get_transaction.csv
[2025-07-25 17:32:49,706] INFO - User input: get transaction from csv
[2025-07-25 17:32:49,708] INFO - ==================================================
[2025-07-25 17:32:49,708] INFO - NEW USER MESSAGE HANDLER SESSION
[2025-07-25 17:32:49,708] INFO - User input: get transaction from csv
[2025-07-25 17:32:49,708] INFO - CSV path: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpz177eyzx.csv
[2025-07-25 17:32:49,708] INFO - CSV file exists: True
[2025-07-25 17:32:49,708] INFO - CSV file valid: True
[2025-07-25 17:32:49,709] INFO - Getting LLM routing decision...
[2025-07-25 17:33:00,538] INFO - LLM response: '_ROUTE_TO_CSV2API'
[2025-07-25 17:33:00,538] INFO - Original LLM response: '_ROUTE_TO_CSV2API'
[2025-07-25 17:33:00,538] INFO - Cleaned response: '_ROUTE_TO_CSV2API'
[2025-07-25 17:33:00,538] INFO - Found ROUTE_TO_CSV2API keyword
[2025-07-25 17:33:00,539] INFO - Routing decision: ROUTE_TO_CSV2API
[2025-07-25 17:33:00,539] INFO - ROUTING: ROUTE_TO_CSV2API
[2025-07-25 17:33:00,539] INFO - Executing csv2api subprocess...
[2025-07-25 17:33:00,539] INFO - Looking for csv2api in: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api
[2025-07-25 17:33:00,540] INFO - Found csv2api executable at: /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py
[2025-07-25 17:33:00,540] INFO - Attempt 1: Running csv2api command: /Library/Developer/CommandLineTools/usr/bin/python3 /Users/devrashie/Documents/csProjects/pennyworks-chatbot/csv2api/src/main.py -i /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpz177eyzx.csv
[2025-07-25 17:33:00,615] INFO - csv2api return code: 0
[2025-07-25 17:33:00,615] INFO - csv2api stdout: 
[2025-07-25 17:33:00,615] WARNING - csv2api stderr: 2025-07-25 17:33:00,611 - src.pipeline.csv_cleaner - INFO - Starting to process CSV file: /var/folders/nb/1nmz4lr56rz3wcmmcgglfyx00000gn/T/tmpz177eyzx.csv
2025-07-25 17:33:00,611 - src.pipeline.csv_cleaner - WARNING - Row 1: No valid tx_hash found in any column
2025-07-25 17:33:00,611 - src.pipeline.csv_cleaner - WARNING - Row 2: No valid tx_hash found in any column
2025-07-25 17:33:00,611 - src.pipeline.csv_cleaner - WARNING - Row 3: No valid tx_hash found in any column
2025-07-25 17:33:00,611 - src.pipeline.csv_cleaner - WARNING - Row 4: No valid tx_hash found in any column
2025-07-25 17:33:00,611 - src.pipeline.csv_cleaner - WARNING - Row 5: No valid tx_hash found in any column
2025-07-25 17:33:00,611 - src.pipeline.csv_cleaner - WARNING - Row 6: No valid tx_hash found in any column
2025-07-25 17:33:00,611 - src.pipeline.csv_cleaner - WARNING - Row 7: No valid tx_hash found in any column
2025-07-25 17:33:00,611 - src.pipeline.csv_cleaner - WARNING - Row 8: No valid tx_hash found in any column
2025-07-25 17:33:00,611 - src.pipeline.csv_cleaner - WARNING - Row 9: No valid tx_hash found in any column
2025-07-25 17:33:00,611 - src.pipeline.csv_cleaner - WARNING - Row 10: No valid tx_hash found in any column
2025-07-25 17:33:00,611 - src.pipeline.csv_cleaner - INFO - CSV processing summary:
2025-07-25 17:33:00,612 - src.pipeline.csv_cleaner - INFO - Total rows processed: 10
2025-07-25 17:33:00,612 - src.pipeline.csv_cleaner - INFO - Rows skipped: 10
2025-07-25 17:33:00,612 - src.pipeline.csv_cleaner - INFO - Rows successfully processed: 0
2025-07-25 17:33:00,612 - src.pipeline.csv_cleaner - INFO - Function type counts: {<FunctionType.TAG_AS_EXPENSE: 'tag_as_expense'>: 0, <FunctionType.GET_TRANSACTION: 'get_transaction'>: 0, <FunctionType.GET_RECEIPT: 'get_receipt'>: 0}
2025-07-25 17:33:00,612 - src.pipeline.csv_cleaner - WARNING - No valid rows found, defaulting to get_transaction
2025-07-25 17:33:00,612 - __main__ - INFO - Classified CSV as get_transaction with 0 rows
2025-07-25 17:33:00,612 - src.pipeline.batch_caller - INFO - Processed 0 rows: 0 successful, 0 failed
2025-07-25 17:33:00,612 - __main__ - INFO - No rows were successfully processed

[2025-07-25 17:33:00,615] INFO - csv2api executed successfully
